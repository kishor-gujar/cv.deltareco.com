
@model cv.deltareco.com.ViewModels.HomeViewModel

@{
	
    ViewData["Title"] = "Dashboard";
    Layout = "/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<!-- Page Wrapper -->
<div class="page-wrapper">
	<div class="content">

		<!-- Breadcrumb -->
		<div class="d-md-flex d-block align-items-center justify-content-between page-breadcrumb mb-3">
			<div class="my-auto mb-2">
				<h2 class="mb-1">Admin Dashboard</h2>
				<nav>
					<ol class="breadcrumb mb-0">
						<li class="breadcrumb-item">
							<a href="index.html"><i class="ti ti-smart-home"></i></a>
						</li>
						<li class="breadcrumb-item">
							Dashboard
						</li>
						<li class="breadcrumb-item active" aria-current="page">Admin Dashboard</li>
					</ol>
				</nav>
			</div>
			<div class="d-flex my-xl-auto right-content align-items-center flex-wrap ">
				<div class="me-2 mb-2">
					<div class="dropdown">
						<a href="javascript:void(0);" class="dropdown-toggle btn btn-white d-inline-flex align-items-center" data-bs-toggle="dropdown">
							<i class="ti ti-file-export me-1"></i>Export
						</a>
						<ul class="dropdown-menu  dropdown-menu-end p-3">
							<li>
								<a href="javascript:void(0);" class="dropdown-item rounded-1"><i class="ti ti-file-type-pdf me-1"></i>Export as PDF</a>
							</li>
							<li>
								<a href="javascript:void(0);" class="dropdown-item rounded-1"><i class="ti ti-file-type-xls me-1"></i>Export as Excel </a>
							</li>
						</ul>
					</div>
				</div>
				<div class="mb-2">
					<div class="input-icon w-120 position-relative">
						<span class="input-icon-addon">
							<i class="ti ti-calendar text-gray-9"></i>
						</span>
						<input type="text" class="form-control yearpicker" value="2025">
					</div>
				</div>
			</div>
		</div>
		<!-- /Breadcrumb -->
		<!-- Welcome Wrap -->
		<div class="card border-0">
			<div class="card-body d-flex align-items-center justify-content-between flex-wrap pb-1">
				<div class="d-flex align-items-center mb-3">
					<span class="avatar avatar-xl flex-shrink-0">
						<img src="assets/img/profiles/avatar-31.jpg" class="rounded-circle" alt="img">
					</span>
					<div class="ms-3">
						<h3 class="mb-2">
							Welcome Back, @Model.FullName
						</h3>
					</div>
				</div>
				<div class="d-flex align-items-center flex-wrap mb-1">
					<a asp-area="Admin" asp-controller="CandidateProfiles" asp-action="Index" class="btn btn-secondary btn-md me-2 mb-2"> <i class="ti ti-square-rounded-plus me-1"></i>Candidate's Profile</a>
					<a asp-area="Admin" asp-controller="CV" asp-action="Index" class="btn btn-primary btn-md mb-2" ><i class="ti ti-square-rounded-plus me-1"></i>Candidate's CV</a>
				</div>
			</div>
		</div>
		<!-- /Welcome Wrap -->

		<div class="row">

			<!-- Widget Info -->
			<div class="col-xxl-8 d-flex">
				<div class="row flex-fill">
					<div class="col-md-3 d-flex">
						<div class="card flex-fill shadow-sm border-0"
							 style="background: linear-gradient(135deg, #e6f0ff, #ffffff);
                border-radius: 18px;
                position: relative;
                overflow: hidden;">

							<!-- Faded Icon Background -->
							<i class="ti ti-calendar-check"
							   style="position: absolute;
                  right: -20px;
                  bottom: -10px;
                  font-size: 80px;
                  color: rgba(0, 123, 255, 0.10);"></i>

							<div class="card-body">

								<!-- Main Icon -->
								<span class="avatar rounded-circle bg-primary shadow-sm mb-2"
									  style="width:50px; height:50px; display:flex; align-items:center; justify-content:center;">
									<i class="ti ti-calendar-check fs-20 text-white"></i>
								</span>

								<!-- Label -->
								<h6 class="fs-13 fw-medium text-muted mb-1">Total Users</h6>

								<!-- Count -->
								<h1 class="mb-0 fw-bold text-primary">@Model.TotalUsers</h1>
							</div>
						</div>
					</div>

					<div class="col-md-3 d-flex">
						<div class="card flex-fill shadow-sm border-0"
							 style="background: linear-gradient(135deg, #e6fffa, #ffffff);
                border-radius: 18px;
                position: relative;
                overflow: hidden;">

							<!-- Faded Background Icon -->
							<i class="ti ti-file-text"
							   style="position: absolute;
                  right: -20px;
                  bottom: -10px;
                  font-size: 80px;
                  color: rgba(0, 180, 150, 0.12);"></i>

							<div class="card-body">

								<!-- Main Icon -->
								<span class="avatar rounded-circle bg-info shadow-sm mb-2"
									  style="width:50px; height:50px; display:flex; align-items:center; justify-content:center;">
									<i class="ti ti-file-text fs-20 text-white"></i>
								</span>

								<!-- Label -->
								<h6 class="fs-13 fw-medium text-muted mb-1">Total CV Candidates</h6>

								<!-- Count -->
								<h1 class="mb-0 fw-bold text-info">@Model.TotalCandidateCVCounts</h1>
							</div>
						</div>
					</div>
					<div class="col-md-3 d-flex">
						<div class="card flex-fill shadow-sm border-0"
							 style="background: linear-gradient(135deg, #fff7e6, #ffffff);
                border-radius: 18px;
                position: relative;
                overflow: hidden;">

							<!-- Faded Background Icon -->
							<i class="ti ti-clock"
							   style="position: absolute;
                  right: -20px;
                  bottom: -10px;
                  font-size: 80px;
                  color: rgba(255, 153, 0, 0.12);"></i>

							<div class="card-body">

								<!-- Main Icon -->
								<span class="avatar rounded-circle bg-warning shadow-sm mb-2"
									  style="width:50px; height:50px; display:flex; align-items:center; justify-content:center;">
									<i class="ti ti-clock fs-20 text-white"></i>
								</span>

								<!-- Label -->
								<h6 class="fs-13 fw-medium text-muted mb-1">Recent Uploaded CV</h6>

								<!-- Count -->
								<h1 class="mb-0 fw-bold text-warning">@Model.RecentUploadedCVCounts</h1>
							</div>
						</div>
					</div>

					<div class="col-md-3 d-flex">
						<div class="card flex-fill shadow-sm border-0"
							 style="background: linear-gradient(135deg, #fff3e6, #ffffff);
                border-radius: 18px;
                position: relative;
                overflow: hidden;">

							<!-- Faded Background Icon -->
							<i class="ti ti-users"
							   style="position: absolute;
                  right: -20px;
                  bottom: -10px;
                  font-size: 80px;
                  color: rgba(255, 165, 0, 0.15);"></i>

							<div class="card-body">

								<!-- Main Icon -->
								<span class="avatar rounded-circle bg-warning shadow-sm mb-2"
									  style="width:50px; height:50px; display:flex; align-items:center; justify-content:center;">
									<i class="ti ti-users fs-20 text-white"></i>
								</span>

								<!-- Label -->
								<h6 class="fs-13 fw-medium text-muted mb-1">Total Candidates</h6>

								<!-- Count -->
								<h1 class="mb-0 fw-bold text-warning">@Model.TotalCandidateCounts</h1>
							</div>
						</div>
					</div>

				</div>
			</div>
	

		<div class="row">
					<div class="col-xxl-8 col-xl-7 d-flex">
						<div class="card flex-fill">
							<div class="card-header pb-2 d-flex align-items-center justify-content-between flex-wrap">
								<h5 class="mb-2">Latest Candidates</h5>
								<div class="dropdown mb-2">
									<a href="javascript:void(0);" class="btn btn-white border btn-sm d-inline-flex align-items-center" data-bs-toggle="dropdown">
										<i class="ti ti-calendar me-1"></i>Latest
									</a>
									<ul class="dropdown-menu dropdown-menu-end p-3">
										<li><a href="javascript:void(0);" class="dropdown-item rounded-1">Today</a></li>
										<li><a href="javascript:void(0);" class="dropdown-item rounded-1">This Week</a></li>
										<li><a href="javascript:void(0);" class="dropdown-item rounded-1">This Month</a></li>
									</ul>
								</div>
							</div>

							<div class="card-body p-0">
								<div class="table-responsive">
									<table class="table table-nowrap mb-0">
										<thead>
											<tr>
												<th>ID</th>
												<th>Name</th>
												<th>Skills</th>
												<th>Education</th>
												<th>Experience</th>
												<th>Email</th>
											</tr>
										</thead>

										<tbody>
											@foreach (var item in Model.Profiles)
											{
												<tr>
													<td>@item.Id</td>

													<td>
														<h6 class="fw-medium">@item.CandidateName</h6>
														<p class="text-muted fs-12 mb-0">@item.Mobile</p>
													</td>

													<td>
														<span class="badge bg-primary text-white">@item.Skills</span>
													</td>

													<td>@item.Education</td>

													<td>
														<span class="badge bg-info text-white">@item.Experience</span>
													</td>

													<td>@item.Email</td>
												</tr>
											}
										</tbody>

									</table>
								</div>
							</div>
						</div>
					</div>

			<div class="col-xxl-4 col-xl-5 d-flex">
					<div class="card flex-fill">
						<div class="card-header pb-2 d-flex align-items-center justify-content-between flex-wrap">
							<h5 class="mb-2">Latest Candidates CV's</h5>
							<div class="dropdown mb-2">
								<a href="javascript:void(0);" class="btn btn-white border btn-sm d-inline-flex align-items-center" data-bs-toggle="dropdown">
									<i class="ti ti-calendar me-1"></i>Latest
								</a>
								<ul class="dropdown-menu dropdown-menu-end p-3">
									<li><a href="javascript:void(0);" class="dropdown-item rounded-1">Today</a></li>
									<li><a href="javascript:void(0);" class="dropdown-item rounded-1">This Week</a></li>
									<li><a href="javascript:void(0);" class="dropdown-item rounded-1">This Month</a></li>
								</ul>
							</div>
						</div>

						<div class="card-body p-0">
							<div class="table-responsive">
								<table class="table table-nowrap mb-0">
									<thead>
										<tr>
											<th>ID</th>
											<th>Name</th>
											<th>Uploaded On</th>
											@* <th>Education</th>
											<th>Experience</th>
											<th>Email</th> *@
										</tr>
									</thead>

									<tbody>
										@foreach (var item in Model.CandidateCVs)
										{
											<tr>
												<td>@item.Id</td>

												<td>
													<h6 class="fw-medium">@item.FileName</h6>
													@* <p class="text-muted fs-12 mb-0">@item.Mobile</p> *@
												</td>

												<td>
													<span class="badge bg-primary text-white">@item.UploadedOn.ToString()</span>
												</td>

												@* <td>@item.Education</td>

												<td>
													<span class="badge bg-info text-white">@item.Experience</span>
												</td>

												<td>@item.Email</td> *@
											</tr>
										}
									</tbody>

								</table>
							</div>
						</div>
					</div>
			</div>
			<!-- /Tasks Statistics -->

		</div>

		<div class="row">

			<!-- Schedules -->
			<div class="col-xxl-4 d-flex">
				<div class="card flex-fill">
					<div class="card-header pb-2 d-flex align-items-center justify-content-between flex-wrap">
						<h5 class="mb-2">Schedules</h5>
						<a href="candidates.html" class="btn btn-light btn-md mb-2">View All</a>
					</div>
					<div class="card-body">
						<div class="bg-light p-3 br-5 mb-4">
							<span class="badge badge-secondary badge-xs mb-1">UI/ UX Designer</span>
							<h6 class="mb-2 text-truncate">Interview Candidates - UI/UX Designer</h6>
							<div class="d-flex align-items-center flex-wrap">
								<p class="fs-13 mb-1 me-2"><i class="ti ti-calendar-event me-2"></i>Thu, 15 Feb 2025</p>
								<p class="fs-13 mb-1"><i class="ti ti-clock-hour-11 me-2"></i>01:00 PM - 02:20 PM</p>
							</div>
							<div class="d-flex align-items-center justify-content-between border-top mt-2 pt-3">
								<div class="avatar-list-stacked avatar-group-sm">
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-49.jpg" alt="img">
									</span>
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-13.jpg" alt="img">
									</span>
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-11.jpg" alt="img">
									</span>
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-22.jpg" alt="img">
									</span>
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-58.jpg" alt="img">
									</span>
									<a class="avatar bg-primary avatar-rounded text-fixed-white fs-10 fw-medium" href="javascript:void(0);">
										+3
									</a>
								</div>
								<a href="#" class="btn btn-primary btn-xs">Join Meeting</a>
							</div>
						</div>
						<div class="bg-light p-3 br-5 mb-0">
							<span class="badge badge-dark badge-xs mb-1">IOS Developer</span>
							<h6 class="mb-2 text-truncate">Interview Candidates - IOS Developer</h6>
							<div class="d-flex align-items-center flex-wrap">
								<p class="fs-13 mb-1 me-2"><i class="ti ti-calendar-event me-2"></i>Thu, 15 Feb 2025</p>
								<p class="fs-13 mb-1"><i class="ti ti-clock-hour-11 me-2"></i>02:00 PM - 04:20 PM</p>
							</div>
							<div class="d-flex align-items-center justify-content-between border-top mt-2 pt-3">
								<div class="avatar-list-stacked avatar-group-sm">
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-49.jpg" alt="img">
									</span>
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-13.jpg" alt="img">
									</span>
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-11.jpg" alt="img">
									</span>
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-22.jpg" alt="img">
									</span>
									<span class="avatar avatar-rounded">
										<img class="border border-white" src="assets/img/users/user-58.jpg" alt="img">
									</span>
									<a class="avatar bg-primary avatar-rounded text-fixed-white fs-10 fw-medium" href="javascript:void(0);">
										+3
									</a>
								</div>
								<a href="#" class="btn btn-primary btn-xs">Join Meeting</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- /Schedules -->
			<!-- Recent Activities -->
			<div class="col-xxl-4 col-xl-6 d-flex">
				<div class="card flex-fill">
					<div class="card-header pb-2 d-flex align-items-center justify-content-between flex-wrap">
						<h5 class="mb-2">Recent Activities</h5>
						<a href="activity.html" class="btn btn-light btn-md mb-2">View All</a>
					</div>
					<div class="card-body">
						<div class="recent-item">
							<div class="d-flex justify-content-between">
								<div class="d-flex align-items-center w-100">
									<a href="javscript:void(0);" class="avatar  flex-shrink-0">
										<img src="assets/img/users/user-38.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 flex-fill">
										<div class="d-flex align-items-center justify-content-between">
											<h6 class="fs-medium text-truncate"><a href="javscript:void(0);">Matt Morgan</a></h6>
											<p class="fs-13">05:30 PM</p>
										</div>
										<p class="fs-13">Added New Project <span class="text-primary">HRMS Dashboard</span></p>
									</div>
								</div>
							</div>
						</div>
						<div class="recent-item">
							<div class="d-flex justify-content-between">
								<div class="d-flex align-items-center w-100">
									<a href="javscript:void(0);" class="avatar  flex-shrink-0">
										<img src="assets/img/users/user-01.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 flex-fill">
										<div class="d-flex align-items-center justify-content-between">
											<h6 class="fs-medium text-truncate"><a href="javscript:void(0);">Jay Ze</a></h6>
											<p class="fs-13">05:00 PM</p>
										</div>
										<p class="fs-13">Commented on Uploaded Document</p>
									</div>
								</div>
							</div>
						</div>
						<div class="recent-item">
							<div class="d-flex justify-content-between">
								<div class="d-flex align-items-center w-100">
									<a href="javscript:void(0);" class="avatar  flex-shrink-0">
										<img src="assets/img/users/user-19.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 flex-fill">
										<div class="d-flex align-items-center justify-content-between">
											<h6 class="fs-medium text-truncate"><a href="javscript:void(0);">Mary Donald</a></h6>
											<p class="fs-13">05:30 PM</p>
										</div>
										<p class="fs-13">Approved Task Projects</p>
									</div>
								</div>
							</div>
						</div>
						<div class="recent-item">
							<div class="d-flex justify-content-between">
								<div class="d-flex align-items-center w-100">
									<a href="javscript:void(0);" class="avatar  flex-shrink-0">
										<img src="assets/img/users/user-11.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 flex-fill">
										<div class="d-flex align-items-center justify-content-between">
											<h6 class="fs-medium text-truncate"><a href="javscript:void(0);">George David</a></h6>
											<p class="fs-13">06:00 PM</p>
										</div>
										<p class="fs-13">Requesting Access to Module Tickets</p>
									</div>
								</div>
							</div>
						</div>
						<div class="recent-item">
							<div class="d-flex justify-content-between">
								<div class="d-flex align-items-center w-100">
									<a href="javscript:void(0);" class="avatar  flex-shrink-0">
										<img src="assets/img/users/user-20.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 flex-fill">
										<div class="d-flex align-items-center justify-content-between">
											<h6 class="fs-medium text-truncate"><a href="javscript:void(0);">Aaron Zeen</a></h6>
											<p class="fs-13">06:30 PM</p>
										</div>
										<p class="fs-13">Downloaded App Reportss</p>
									</div>
								</div>
							</div>
						</div>
						<div class="recent-item">
							<div class="d-flex justify-content-between">
								<div class="d-flex align-items-center w-100">
									<a href="javscript:void(0);" class="avatar  flex-shrink-0">
										<img src="assets/img/users/user-08.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 flex-fill">
										<div class="d-flex align-items-center justify-content-between">
											<h6 class="fs-medium text-truncate"><a href="javscript:void(0);">Hendry Daniel</a></h6>
											<p class="fs-13">05:30 PM</p>
										</div>
										<p class="fs-13">Completed New Project <span>HMS</span></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- /Recent Activities -->
			<!-- Birthdays -->
			<div class="col-xxl-4 col-xl-6 d-flex">
				<div class="card flex-fill">
					<div class="card-header pb-2 d-flex align-items-center justify-content-between flex-wrap">
						<h5 class="mb-2">Birthdays</h5>
						<a href="javascript:void(0);" class="btn btn-light btn-md mb-2">View All</a>
					</div>
					<div class="card-body pb-1">
						<h6 class="mb-2">Today</h6>
						<div class="bg-light p-2 border border-dashed rounded-top mb-3">
							<div class="d-flex align-items-center justify-content-between">
								<div class="d-flex align-items-center">
									<a href="javascript:void(0);" class="avatar">
										<img src="assets/img/users/user-38.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 overflow-hidden">
										<h6 class="fs-medium ">Andrew Jermia</h6>
										<p class="fs-13">IOS Developer</p>
									</div>
								</div>
								<a href="javascript:void(0);" class="btn btn-secondary btn-xs"><i class="ti ti-cake me-1"></i>Send</a>
							</div>
						</div>
						<h6 class="mb-2">Tomorow</h6>
						<div class="bg-light p-2 border border-dashed rounded-top mb-3">
							<div class="d-flex align-items-center justify-content-between">
								<div class="d-flex align-items-center">
									<a href="javascript:void(0);" class="avatar">
										<img src="assets/img/users/user-10.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 overflow-hidden">
										<h6 class="fs-medium"><a href="javascript:void(0);">Mary Zeen</a></h6>
										<p class="fs-13">UI/UX Designer</p>
									</div>
								</div>
								<a href="javascript:void(0);" class="btn btn-secondary btn-xs"><i class="ti ti-cake me-1"></i>Send</a>
							</div>
						</div>
						<div class="bg-light p-2 border border-dashed rounded-top mb-3">
							<div class="d-flex align-items-center justify-content-between">
								<div class="d-flex align-items-center">
									<a href="javascript:void(0);" class="avatar">
										<img src="assets/img/users/user-09.jpg" class="rounded-circle" alt="img">
									</a>
									<div class="ms-2 overflow-hidden">
										<h6 class="fs-medium "><a href="javascript:void(0);">Antony Lewis</a></h6>
										<p class="fs-13">Android Developer</p>
									</div>
								</div>
								<a href="javascript:void(0);" class="btn btn-secondary btn-xs"><i class="ti ti-cake me-1"></i>Send</a>
							</div>
						</div>
						<h6 class="mb-2">25 Jan 2025</h6>
						<div class="bg-light p-2 border border-dashed rounded-top mb-3">
							<div class="d-flex align-items-center justify-content-between">
								<div class="d-flex align-items-center">
									<span class="avatar">
										<img src="assets/img/users/user-12.jpg" class="rounded-circle" alt="img">
									</span>
									<div class="ms-2 overflow-hidden">
										<h6 class="fs-medium ">Doglas Martini</h6>
										<p class="fs-13">.Net Developer</p>
									</div>
								</div>
								<a href="javascript:void(0);" class="btn btn-secondary btn-xs"><i class="ti ti-cake me-1"></i>Send</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- /Birthdays -->

		</div>
		<div class="card mb-4">
    <div class="card-header">
        <h5 class="mb-0">Candidates Profile Overview</h5>
    </div>
    <div class="card-body">
        <canvas id="profileChart"></canvas>
    </div>
</div>

			<div class="card mb-4">
				<div class="card-header">
					<h5 class="mb-0">Candidates CV Upload Overview</h5>
				</div>
				<div class="card-body">
					<canvas id="cvChart"></canvas>
				</div>
			</div>

	</div>

	<div class="footer d-sm-flex align-items-center justify-content-between border-top bg-white p-3">
		<p class="mb-0">2014 - 2025 &copy; SmartHR.</p>
		<p>Designed &amp; Developed By <a href="javascript:void(0);" class="text-primary">Dreams</a></p>
	</div>

</div>
@section Scripts {
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        var toggle = document.getElementById("menu-toggle");
        toggle.addEventListener("click", function () {
            document.getElementById("wrapper").classList.toggle("toggled");
        });
    </script>
		<script>
			var monthLabels = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

			// Data from Controller
			var profileData = @Html.Raw(Json.Serialize(Model.ProfileCounts));
			var cvData = @Html.Raw(Json.Serialize(Model.CVCounts));

			// Profile Chart
			new Chart(document.getElementById("profileChart"), {
				type: 'bar',
				data: {
					labels: monthLabels,
					datasets: [{
						label: "Profiles",
						data: profileData,
						backgroundColor: "#F78A1D"
					}]
				},
				options: {
					responsive: true,
					scales: {
						y: { beginAtZero: true }
					}
				}
			});

			// CV Chart
			new Chart(document.getElementById("cvChart"), {
				type: 'bar',
				data: {
					labels: monthLabels,
					datasets: [{
						label: "Candidate CVs",
						data: cvData,
						backgroundColor: "#009EF7"
					}]
				},
				options: {
					responsive: true,
					scales: {
						y: { beginAtZero: true }
					}
				}
			});
		</script>

}
